# [494. ç›®æ ‡å’Œ](https://leetcode.cn/problems/target-sum/)

## ğŸ¯ é—®é¢˜è½¬æ¢

**åŸé—®é¢˜ï¼š** åœ¨æ•°ç»„å…ƒç´ å‰æ·»åŠ  `+` æˆ– `-`ï¼Œä½¿è¡¨è¾¾å¼ç­‰äºç›®æ ‡å€¼

**æ•°å­¦æ¨å¯¼ï¼š**
```
è®¾ P = æ­£æ•°é›†åˆï¼ŒN = è´Ÿæ•°é›†åˆ
sum(P) + sum(N) = sum(nums)    // æ‰€æœ‰æ•°å­—çš„ç»å¯¹å€¼ä¹‹å’Œ
sum(P) - sum(N) = target       // è¡¨è¾¾å¼ç»“æœ

ä¸¤å¼ç›¸åŠ ï¼š
2 * sum(P) = target + sum(nums)
sum(P) = (target + sum(nums)) / 2
```

**è½¬æ¢åé—®é¢˜ï¼š** åœ¨numsä¸­å¯»æ‰¾å’Œä¸º `sum(P)` çš„å­é›†ä¸ªæ•°

## ğŸ” è¾¹ç•Œæ¡ä»¶æ£€æŸ¥

```java
// 1. å¿…é¡»èƒ½è¢«2æ•´é™¤
if((target + sumNums) % 2 != 0) return 0;

// 2. ç›®æ ‡å€¼å¿…é¡»åœ¨åˆç†èŒƒå›´å†…
if(sumP < 0 || target > sumNums || target < -sumNums) return 0;
```

## ğŸ’¡ åŠ¨æ€è§„åˆ’è§£æ³•

### çŠ¶æ€å®šä¹‰
`dp[i]` è¡¨ç¤ºå’Œä¸º `i` çš„å­é›†ä¸ªæ•°

### åˆå§‹çŠ¶æ€
`dp[0] = 1`  // ç©ºé›†åˆçš„å’Œä¸º0ï¼Œæœ‰1ç§æ–¹æ¡ˆ

### çŠ¶æ€è½¬ç§»
```java
for(int num : nums){
    for(int i = sumP; i >= num; i--){
        dp[i] = dp[i] + dp[i - num];
    }
}
```

**é€’æ¨å…¬å¼è§£é‡Šï¼š**
- `dp[i]`ï¼šä¸é€‰å½“å‰æ•°å­—çš„æ–¹æ¡ˆæ•°ï¼ˆä¿æŒåŸæ ·ï¼‰
- `dp[i - num]`ï¼šé€‰å½“å‰æ•°å­—çš„æ–¹æ¡ˆæ•°ï¼ˆä»å‰©ä½™å®¹é‡è½¬ç§»ï¼‰

### éå†é¡ºåº
**ä»å³å¾€å·¦**éå†ï¼Œé¿å…é‡å¤ä½¿ç”¨åŒä¸€å…ƒç´ 

## âš ï¸ å…³é”®è¦ç‚¹

1. **é—®é¢˜è½¬æ¢æ˜¯æ ¸å¿ƒ**ï¼šå°†åŠ å‡é—®é¢˜è½¬ä¸ºå­é›†å’Œé—®é¢˜
2. **è¾¹ç•Œæ¡ä»¶è¦å…¨é¢**ï¼šæ•´é™¤æ€§ã€æ•°å€¼èŒƒå›´éƒ½è¦æ£€æŸ¥
3. **é€’æ¨å…¬å¼è¦ç®€æ´**ï¼šä¸éœ€è¦é¢å¤–æ¡ä»¶åˆ¤æ–­
4. **éå†é¡ºåºè¦æ­£ç¡®**ï¼šä»å¤§åˆ°å°é¿å…é‡å¤

## ğŸ“Š å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** O(n Ã— sumP)
- **ç©ºé—´å¤æ‚åº¦ï¼š** O(sumP)

## ğŸ‰ æœ€ç»ˆç­”æ¡ˆ
è¿”å› `dp[sumP]` å³ä¸ºå’Œä¸º `sumP` çš„å­é›†ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯åŸé—®é¢˜çš„è§£

```java
class Solution {
    public int findTargetSumWays(int[] nums, int target) {
        // sum(P) + sum(N) = sum(nums)
        // sum(P) - sum(N) = target
        // P: ç›¸åŠ æ•° N: ç›¸å‡æ•°
        // sum(P)*2 = target + sum(nums)
        int sumNums = 0;
        for(int i : nums){
            sumNums += i;
        }
        if((target + sumNums) % 2 != 0) return 0;
        int sumP = (target + sumNums) / 2;
        if(sumP < 0 || target > sumNums || target < -sumNums) return 0;
        // åˆ°è¿™é‡Œå…¶å®å°±æ˜¯é»˜è®¤ä¸€å®šæ»¡è¶³æ¡ä»¶ï¼Œæ‰€ä»¥ä¸Šé¢æˆ‘ä»¬éœ€è¦ç­›æ‰æ‰€æœ‰ä¸æ»¡è¶³çš„æ¡ä»¶
        // è½¬æ¢ä¸ºå¯»æ‰¾å’Œä¸º sumP çš„å­é›†æ•°é‡é—®é¢˜ï¼Œå³0-1èƒŒåŒ…ï¼Œåˆšå¥½è£…æ»¡sumPçš„é—®é¢˜
        int dp[] = new int[sumP + 1];
        dp[0] = 1;
        for(int num : nums){
            // ä»å³å¾€å·¦ï¼ŒåŸºæœ¬æ“ä½œï¼Œé˜²æ­¢é‡å¤ä½¿ç”¨
            for(int i = sumP; i >= num; i --){
                // åœ¨åŸæœ¬çš„åŸºç¡€ä¸Šæ·»åŠ åŠ å…¥numä¹‹åçš„æ–¹æ¡ˆæ•°é‡
                dp[i] = dp[i - num] + dp[i];
            }
        }
        return dp[sumP];
    }
}
```

