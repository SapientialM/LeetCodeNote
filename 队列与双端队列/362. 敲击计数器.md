# [362. 敲击计数器](https://leetcode.cn/problems/design-hit-counter/)

```java
class HitCounter {
    private Queue<Integer> hitQueue;
    
    public HitCounter() {
        hitQueue = new ArrayDeque<>();
    }
    
    public void hit(int timestamp) {
        // 清理过期的点击记录（超过300秒）
        cleanExpiredHits(timestamp);
        // 添加新的点击记录
        hitQueue.offer(timestamp);
    }
    
    public int getHits(int timestamp) {
        // 清理过期的点击记录
        cleanExpiredHits(timestamp);
        // 返回队列中剩余的元素数量（即在过去300秒内的点击次数）
        return hitQueue.size();
    }
    
    // 辅助方法：清理过期的点击记录
    private void cleanExpiredHits(int timestamp) {
        while (!hitQueue.isEmpty() && timestamp - hitQueue.peek() >= 300) {
            hitQueue.poll();
        }
    }
}

/**
 * Your HitCounter object will be instantiated and called as such:
 * HitCounter obj = new HitCounter();
 * obj.hit(timestamp);
 * int param_2 = obj.getHits(timestamp);
 */

```

1. **`hit` 方法中的清理逻辑**：应该在每次 `hit` 时都清理过期数据
2. **`getHits` 方法的效率**：清理过期数据